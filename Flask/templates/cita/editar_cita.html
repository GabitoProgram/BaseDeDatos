{% extends 'layout.html' %}

{% block body %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card card-body">
            <form action="{{ url_for('citas.update', id=cita.ID_C) }}" method="POST">
                <h4 class="mb-3">Actualizar Cita</h4>
                <div class="form-group mb-3">
                    <select name="ID_D" class="form-control" required>
                        {% for doctor in doctores %}
                            <option value="{{ doctor.ID_D }}" {% if doctor.ID_D == cita.ID_D %} selected {% endif %}>{{ doctor.Nombre }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group mb-3">
                    <select name="ID_P" class="form-control" required>
                        {% for paciente in pacientes %}
                            <option value="{{ paciente.ID_P }}" {% if paciente.ID_P == cita.ID_P %} selected {% endif %}>{{ paciente.Nombre }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group mb-3">
                    <input type="datetime-local" name="FechaHora" class="form-control" value="{{ cita.FechaHora.strftime('%Y-%m-%dT%H:%M') }}" required>
                </div>
                <div class="form-group mb-3">
                    <input type="text" name="Estado" class="form-control" placeholder="Estado" value="{{ cita.Estado }}" required>
                </div>
                <div class="form-group mb-3">
                    <input type="text" name="Motivo" class="form-control" placeholder="Motivo" value="{{ cita.Motivo }}">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">Guardar</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
